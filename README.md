# CoastSat-CWL

This repository translates the [CoastSat](https://github.com/UoA-eResearch/CoastSat) coastal shoreline processing pipeline into a Common Workflow Language (CWL) workflow, enabling provenance tracking through [CWLProv](https://github.com/common-workflow-language/cwlprov).

## Project Goals

The primary objective is to refactor the CoastSat implementation into CWL components that:

1. **Preserve Functionality**: Maintain the complete coastal shoreline processing pipeline from the original [CoastSat repository](https://github.com/UoA-eResearch/CoastSat)
2. **Enable Provenance Tracking**: Generate detailed provenance records for each workflow execution using CWLProv
3. **Support LivePublication**: Provide Component E2.2 of the LivePublication implementation of CoastSat

## Repository Structure

This repository is organized into two main components:

- **`CoastSat-minimal/`** – A functional minimal representation of the CoastSat workflow, refactored from the original notebooks into executable Python scripts. This serves as the reference implementation and validation baseline.

- **`CoastSat-CWL/`** – Common Workflow Language (CWL) components for the CoastSat pipeline, enabling portable, reproducible, and scalable execution of the workflow.

## Component E2.2: LivePublication Implementation

The provenance records generated by CWLProv from the CWL workflow executions form **Component E2.2** of the LivePublication implementation of CoastSat. These records capture:

- Input data sources and versions
- Processing steps and parameters
- Tool versions and dependencies
- Output artifacts and metadata
- Execution environment details

This provenance information enables the reproducibility and traceability of the coastal shoreline change analysis results and will be used to inform the Dynamic Authoring Framework for subsequent CoastSat publications.

## Getting Started

### CoastSat-minimal

See [`CoastSat-minimal/README.md`](CoastSat-minimal/README.md) for setup instructions and usage of the minimal reference implementation.

### CoastSat-CWL

CWL components are under development. See [`CoastSat-CWL/README.md`](CoastSat-CWL/README.md) for details.

## Original Implementation

This project is based on the [CoastSat repository](https://github.com/UoA-eResearch/CoastSat) by UoA-eResearch, which implements automated shoreline detection and analysis using Google Earth Engine and satellite imagery.

## Provenance Tracking

Provenance records are generated using [CWLProv](https://github.com/common-workflow-language/cwlprov), which extracts detailed execution metadata from CWL workflow runs. These records follow the [PROV](https://www.w3.org/TR/prov-overview/) data model and enable the traceability of the scientific workflow.

## License

This project maintains the same MIT license as the original CoastSat repository.

## Related Work

- [CoastSat](https://github.com/UoA-eResearch/CoastSat) – Original CoastSat implementation
- [CWLProv](https://github.com/common-workflow-language/cwlprov) – CWL Provenance tool
- [Common Workflow Language](https://www.commonwl.org/) – Workflow language specification

